#!/usr/bin/env sh
# PII scan and (optionally) redact before commit

if command -v pwsh >/dev/null 2>&1; then
  pwsh -NoLogo -NoProfile -ExecutionPolicy Bypass -File scripts/precommit_pii.ps1
  exit $?
fi

if command -v powershell >/dev/null 2>&1; then
  powershell -NoLogo -NoProfile -ExecutionPolicy Bypass -File scripts/precommit_pii.ps1
  exit $?
fi

echo "[pre-commit] PowerShell not found; skipping PII scan." 1>&2
exit 0


# LUT とカラーマネジメント

LUT (Look-Up Table) は色変換を高速に適用するためのテーブルです。このテーブルは想定する色空間に基づいて作成されるため、適用する際には色域と白色点を揃える必要があります。本ドキュメントでは色域、白色点、そして白色点を変換するために一般的に用いられる Bradford 変換について概説します。

## 色域 (Color Gamut)
色域は色空間が表現できる色の範囲を示します。sRGB、Rec.709、ACEScg などの色空間はそれぞれ異なる原色を持ち、LUT は特定の色域を前提に設計されています。異なる色域の画像に LUT を適用すると、色がずれて見える場合があります。

## 白色点 (White Point)
白色点は「この色空間での白」の定義で、CIE XYZ で表される座標を持ちます。sRGB や Rec.709 は D65 (約 6500K) を採用し、ACES の多くは D60 を採用します。白色点が異なると同じ数値でも見た目が変わるため、LUT を適用する前に白色点を一致させる必要があります。

## Bradford 変換
Bradford 変換は色順応のための変換行列で、異なる白色点間の変換に広く使われています。まず RGB 値を LMS 色空間に変換し、白色点の比を掛けた後に逆変換することで、元の色域を保ったまま白色点のみを変換できます。例えば D65 → D60 への変換も Bradford 行列を用いて実現できます。

---

LUT を正しく活用するには、対象画像と LUT の色域および白色点を揃え、必要に応じて Bradford 変換で白色点を変換してください。
